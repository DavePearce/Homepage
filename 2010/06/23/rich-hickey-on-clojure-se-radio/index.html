<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="Rich Hickey on Clojure (SE Radio)"><meta name=twitter:title content="Rich Hickey on Clojure (SE Radio)"><meta property="og:url" content="https://whileydave.com/2010/06/23/rich-hickey-on-clojure-se-radio/"><title>David J. Pearce
(Rich Hickey on Clojure (SE Radio))</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://whileydave.com/css/page.css><link rel=stylesheet href=https://whileydave.com/css/menu.css><link rel=stylesheet href=https://whileydave.com/css/style.css></head><body><script>"use strict";function clearMenu(){var e,t,n=window.matchMedia("(max-width: 992px)");n.matches&&(e=document.getElementById("menu-content"),t=document.getElementById("menu"),e.style.display="none",t.style.filter="")}function toggleMenu(){var e,t,n=window.matchMedia("(max-width: 992px)");n.matches&&(e=document.getElementById("menu-content"),t=document.getElementById("menu"),e.style.display==="block"?(e.style.display="none",t.style.filter=""):(e.style.display="block",t.style.filter="brightness(0.8)"))}function toggleList(e){e.style.display="none";for(var t,o=e.parentNode,s=o.childNodes,n=0;n<s.length;++n)t=s[n],t.classList&&t.classList.contains("hidden")&&(t.style.display==="block"?t.style.display="none":t.style.display="block")}</script><header class=topbar><div class=topbar-header onclick=clearMenu()><div class=topbar-title>Dr. David J. Pearce</div><div class=topbar-subtitle></div></div><div class=topbar-social onclick=clearMenu()><a href=https://github.com/DavePearce><i class="fa fa-github" aria-hidden=true></i></a>
<a href=https://twitter.com/WhileyDave><i class="fa fa-twitter" aria-hidden=true></i></a>
<a href=https://www.youtube.com/user/redjamjar/><i class="fa fa-youtube-play" aria-hidden=true></i></a>
<a href=https://www.linkedin.com/in/david-pearce-8592647/><i class="fa fa-linkedin-square" aria-hidden=true></i></a></div><div class=topbar-menu><div id=menu onclick=toggleMenu()><div id=menu-icon><img src=https://whileydave.com/images/menu.png alt=Menu></div><div id=menu-content><a href=https://whileydave.com/blog/>Blog</a>
<a href=https://whileydave.com/projects/>Projects</a>
<a href=https://whileydave.com/publications/>Publications</a>
<a href=https://whileydave.com/talks/>Talks</a>
<a href=https://whileydave.com/>Home</a></div></div></div></header><div class=container onclick=clearMenu()><div class=content><h1 class=post-title>Rich Hickey on Clojure (SE Radio)</h1><div class=post-date>Wednesday, June
23rd,
2010</div><hr><p>I&rsquo;ve just been listening to an interesting <a href=http://www.se-radio.net/2010/03/episode-158-rich-hickey-on-clojure/>interview with Rich Hickery on Clojure over at SE Radio</a>.  I&rsquo;m a big fan of Clojure, since it shares a lot of similar ideas with Whiley (really, it does &mldr; trust me :).  Anyway, Clojure provides the <a href=http://clojure.org/functional_programming>notion of pure functions and values</a>, as Whiley does.  The overriding principle is quite similar as well:</p><blockquote><p>The philosophy behind Clojure is that most parts of most programs should be functional, and that programs that are more functional are more robust.</p><p>&ndash; clojure.org</p></blockquote><p>Probably the main difference is that Whiley is about correctness, whilst Clojure is about concurrency.  Anyway, the part that really got my attention was the discussion of values versus objects:</p><blockquote><p>&ldquo;Even if you don&rsquo;t have concurrency, I think that large objected-oriented programs struggle with increasing complexity as you build this large object graph of mutable objects.  You know, trying to understand and keep in your mind what will happen when you call a method and what will the side-effects be &mldr;&rdquo;</p><p>&ndash; Rich Hickey</p></blockquote><p>This is really spot on, as far as i&rsquo;m concerned.  In my experience, for anything vaguely complex, you end up with most of your objects having to be immutable.  Otherwise, it just gets too hard to figure out what is going on.  I&rsquo;m always surprised when people defend this situation, saying that it allows programmers choice, and we don&rsquo;t want to force any particular style, etc.  The bottom line is that it&rsquo;s a complete death-trap for the novice, and even experienced programmers get caught out as they try various tricks to get performance (which usually come back to bite them).  The other often-used argument for having fully mutable objects is performance, particularly in respect with collections. This point is also discussed by Rich:</p><blockquote><p>&ldquo;How do we program with Values?  How do you represent things which are bigger than numbers and strings as values? You need efficient data structures for representing collections as values.&rdquo;</p></blockquote><p>Then, he goes on to talk about how it&rsquo;s done in Clojure.  The jist of it being that collections in Clojure are mostly implemented as linked-lists and/or trees.  The implementation of these allows sharing of substructure.  For example, two lists sharing the end portion of their sequences.  Of course, from the programmers point of view this is completely hidden &mdash; they behave exactly as you would expect list values should:</p><blockquote><p><strong>(host)</strong> &ldquo;&mldr; it feels semantically like a copy, but it&rsquo;s not a brute-force duplication of the data &mldr; there is some more clever stuff going on&rdquo;</p><p><strong>(Rich)</strong> &ldquo;Exactly, that&rsquo;s the real key.  And it needs to be said because people&rsquo;s first intuition is that it will require copying, and that can&rsquo;t be made efficient, but that&rsquo;s not what&rsquo;s happening.&rdquo;</p></blockquote><p>This kind of thing I&rsquo;ve seen already when talking to people about Whiley.  It goes something like this: <em>&ldquo;Oh, you have first-class lists &mldr; you mean, you COPY the entire thing every time?&rdquo;</em> Look, just because we have value semantics doesn&rsquo;t mean we have to copy everything!</p><p>Anyway, there&rsquo;s some video of <a href=http://blip.tv/file/1313398>Rich talking about Clojure</a> which is rather good, although I have to confess I haven&rsquo;t made it all the way through yet!</p><hr></div></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-5582165-7","auto"),ga("send","pageview"))</script></body></html>