<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">    
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/page.css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/menu.css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/style.css">
  </head>
  <body>
    <script>
      function toggleMenu() {
        /* find menu content */
        var content = document.getElementById("menu-content");
        var menu = document.getElementById("menu");
        /* toggle visibility */
        if(content.style.display === 'none') {
          content.style.display = 'block';
          menu.style.filter = "brightness(1.2)";
        } else {
          content.style.display = 'none';
          menu.style.filter = '';
        }
      }
      function clearMenu() {
        document.getElementById("menu-content").style.display='none';
        document.getElementById("menu").style.filter='';
      }      
    </script>    
    <header class="topbar">
      <div class="name">
	<b>Dr. David J. Pearce</b><i> Associate Professor of Computer Science</i>
      </div>
      <nav>
	<div id="menu" onclick="toggleMenu();">
	  <img src="{{.Site.BaseURL}}/images/menu.png"/>
	  <div id="menu-content">
	    {{ if .Page.IsHome }}
	    <a class="selected" href="{{.Site.BaseURL}}">Home</a>
	    {{ else }}
	    <a href="{{.Site.BaseURL}}">Home</a>
	    {{ end }}
	    {{ $p := .Title }}
	    {{ range .Site.Sections }}
	    {{ if eq .Title $p }}
	    <a class="selected" href="{{.Permalink}}">{{.Title}}</a>
	    {{ else }}
	    <a href="{{.Permalink}}">{{.Title}}</a>
	    {{ end }}
	    {{ end }}
	  </div>
	</div>
      </nav>
    </header>
    {{ if .Page.Params.banner }}
    <img class="banner" src="{{ .Site.BaseURL }}{{.Page.Params.banner}}" alt="{{.Page.Params.banner_alt}}"/>
    {{ end }}
    <div class="container">
      <div class="content">	
	{{ block "main" . }}
	{{ end }}
      </div>
    </div>
    <script>
      clearMenu();
    </script>
  </body>
</html>
