<!doctype html><html><head><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="Whiley is Ten Years Old!"><meta property="twitter:title" content="Whiley is Ten Years Old!"><meta property="og:url" content="https://whileydave.com/2020/09/01/whiley-is-ten-years-old/"><title>David J. Pearce
(Whiley is Ten Years Old!)</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://whileydave.com/css/page.css><link rel=stylesheet href=https://whileydave.com/css/menu.css><link rel=stylesheet href=https://whileydave.com/css/style.css><link rel=stylesheet href=https://whileydave.com/css/syntax.css></head><body><script>"use strict";function clearMenu(){var q=window.matchMedia("(max-width: 992px)");if(q.matches){var c=document.getElementById("menu-content");var m=document.getElementById("menu");c.style.display='none';m.style.filter='';}}
function toggleMenu(){var q=window.matchMedia("(max-width: 992px)");if(q.matches){var c=document.getElementById("menu-content");var m=document.getElementById("menu");if(c.style.display==='block'){c.style.display='none';m.style.filter='';}else{c.style.display='block';m.style.filter="brightness(0.8)";}}}
function toggleList(element){element.style.display="none";var parent=element.parentNode;var items=parent.childNodes;for(var i=0;i<items.length;++i){var item=items[i];if(item.classList&&item.classList.contains("hidden")){if(item.style.display==='block'){item.style.display="none";}else{item.style.display="block";}}}}</script><header class=topbar><div class=topbar-header onclick=clearMenu()><div class=topbar-title>Dr. David J. Pearce</div><div class=topbar-subtitle></div></div><div class=topbar-social onclick=clearMenu()><a href=https://github.com/DavePearce><i class="fa fa-github" aria-hidden=true></i></a><a href=https://twitter.com/WhileyDave><i class="fa fa-twitter" aria-hidden=true></i></a><a href=https://www.youtube.com/user/redjamjar/><i class="fa fa-youtube-play" aria-hidden=true></i></a><a href=https://www.linkedin.com/in/david-pearce-8592647/><i class="fa fa-linkedin-square" aria-hidden=true></i></a></div><div class=topbar-menu><div id=menu onclick=toggleMenu()><div id=menu-icon><img src=https://whileydave.com/images/menu.png alt=Menu></div><div id=menu-content><a href=https://whileydave.com/blog/>Blog</a>
<a href=https://whileydave.com/projects/>Projects</a>
<a href=https://whileydave.com/publications/>Publications</a>
<a href=https://whileydave.com/talks/>Talks</a>
<a href=https://whileydave.com/>Home</a></div></div></div></header><div class=container onclick=clearMenu()><div class=content><h1 class=post-title>Whiley is Ten Years Old!</h1><div class=post-date>Tuesday, September
1st,
2020</div><hr><p>The <a href=https://github.com/Whiley/WhileyCompiler/commit/0529dcf296877b89f0ddca2c942daff4a5e72429>first commit</a> recorded in the <a href=https://github.com/Whiley/WhileyCompiler>WhileyCompiler</a> repository on Github is dated June 25th, 2010. <em>That means Whiley has been going for just over ten years already!</em> Wow, time sure does fly. It&rsquo;s not a very interesting first commit though. And, looking closely, you can see that commit is actually from the subversion repository that Whiley was originally hosted in. The first real commit to the GitHub repository is dated <a href=https://github.com/Whiley/WhileyCompiler/commit/63cb03b19b357757660b15058919c29f08fba3e5>November 22, 2010</a>. Again, it&rsquo;s not a very interesting commit! Since those early commits, a lot has happened &mdash; including around 7.6K more commits. The first post on <a href=http://whiley.org>whiley.org</a> is dated <a href=http://whiley.org/2010/06/07/software-engineering-disasters-video/>June 7th 2010</a>, with the first talking about Whiley coming <a href=http://whiley.org/2010/06/07/wjc-status-update/>on the same day</a>.</p><p>Anyway, I&rsquo;m not going to bore you with a full break down of everything that&rsquo;s happened since then! Instead, here are a few highlights for me right now:</p><h3 id=actual-code>Actual Code</h3><p>There are now a few projects in Whiley which demonstrate its potential for building useful programs. For now, these are currently mostly restricted to simple web applications:<div class=showcase><figure class=text-center><a href=https://github.com/DavePearce/Conway.wy><img height=150px alt="Game of Life Screenshot" src=https://raw.githubusercontent.com/DavePearce/Conway.wy/master/assets/conway.png></a><figcaption>(Game of Life)</figcaption></figure><figure class=text-center><a href=https://github.com/DavePearce/Minesweeper.wy/><img height=150px alt="Minesweeper Screenshot" src=https://raw.githubusercontent.com/DavePearce/Minesweeper.wy/master/assets/screenshot.png></a><figcaption>(Minesweeper)</figcaption></figure><figure class=text-center><a href=https://github.com/DavePearce/Asteroids.wy/><img height=150px alt="Asteroids Screenshot" src=https://raw.githubusercontent.com/DavePearce/Asteroids.wy/master/assets/asteroids.png></a><figcaption>(Asteroids)</figcaption></figure></div></p><p>On top of this, a number of libraries have been written which are finding use in various ways (e.g. <a href=https://github.com/Whiley/STD.wy>STD.wy</a>, <a href=https://github.com/Whiley/JS.wy>JS.wy</a>, <a href=https://github.com/Whiley/DOM.wy>DOM.wy</a>, <a href=https://github.com/DavePearce/Web.wy>Web.wy</a>, <a href=https://github.com/DavePearce/Ace.wy>Ace.wy</a>, <a href=https://github.com/DavePearce/LZ.wy>LZ.wy</a>). There is even a simple online <a href=https://github.com/Whiley/Repository>package repository</a>!</p><h3 id=request-for-comments-rfcs>Request For Comments (RFCs)</h3><p>The <a href=https://github.com/Whiley/RFCs/>RFC process</a> for developing extensions to the Whiley language has been running since around 2017. At the time of writing, there are <a href=https://github.com/Whiley/RFCs/tree/master/text>30 RFCs</a> of which around <a href=https://github.com/Whiley/WhileyCompiler/projects/9>15 have been completed</a>. A few of the &ldquo;big ones&rdquo; are:</p><ul><li><p><a href=https://github.com/Whiley/RFCs/blob/master/text/0023-templates.md>RFC#23 (Templates)</a>. This added support for <em>type polymorphism</em> allowing us to use types such as <code>vector&lt;T></code> (i.e. as in C++ templates or Java generics). This is a fairly fundamental feature which enabled significant improvements to the standard library (see e.g. <a href=https://github.com/Whiley/STD.wy/blob/develop/src/whiley/std/collections/vector.whiley>std::collections::vector</a>).</p></li><li><p><a href=https://github.com/Whiley/RFCs/blob/master/text/0058-importwith.md>RFC#58 (import with)</a>. This extended the syntax for <code>import</code> statements to support a <code>with</code> clause. For example:</p><pre><code class=language-whiley data-lang=whiley>import std::vector with Vector
</code></pre></li><li><p><a href=https://github.com/Whiley/RFCs/blob/master/text/0063-foreach.md>RFC#64 (for each)</a>. This finally added a syntax for <code>for</code>-loops to the language which had been sorely missing! For example:</p><pre><code class=language-whiley data-lang=whiley>for i in 0..|arr|:
   m = m + arr[i]
</code></pre></li><li><p><a href=https://github.com/Whiley/RFCs/blob/master/text/0066-type-inference.md>RFC#66 (type inference)</a>. This added support for <em>bidirectional type inference</em> allowed type information to flow both up and down the AST for an expression. Amongst other things, this allows us to omit type parameters in most cases. For example:</p><pre><code class=language-whiley data-lang=whiley>// Create empty vector
Vector&lt;int&gt; vec = Vector()
// Add something to vector
vec = push(vec,1)
</code></pre><p>In the last line, without type inference, we&rsquo;d have to give the type parameters explicitly (e.g. <code>push&lt;int>(vec,1)</code>). Type inference also helps implementing native types (e.g. a string literal assigned to a JavaScript string can be implemented directly as such).</p></li></ul><p>In addition to the formal RFC submissions, there are also a bunch of <a href=https://github.com/Whiley/RFCs/issues>lightweight ideas being floated around</a> as well which may eventually be written up into RFCs.</p><h3 id=quickcheck>QuickCheck</h3><p>Whilst the static verifier that comes with Whiley has slowly improved over the years, it remains difficult to use on large projects. A surprising success has been the <a href=https://whileydave.com/publications/chin18_engr489/>QuickCheck for Whiley</a> originally developed by Janice Chin. The essential idea behind this tool arose from the original <a href=https://en.wikipedia.org/wiki/QuickCheck>QuickCheck for Haskell</a> tool developed by John Hughes and Koen Claessen. Essentially, this tool tests Whiley programs by generating inputs automatically based on certain (configurable) criteria, such as only <code>-3..3</code> for integers, restricting arrays to max length <code>3</code>, etc. For example, consider this (broken) function:</p><pre><code class=language-whiley data-lang=whiley>function find(int[] xs, int x) -&gt; (int r)
// Return cannot be negative!
ensures r &gt;= 0:
    for i in 0..|xs|:
       if xs[i] == x:
          return i  // match
    return -1       // no match
</code></pre><p>This function is broken because its postcondition doesn&rsquo;t permit negative values to be returned. Running this through QuickCheck quickly generates the following:</p><pre><code>main.whiley:6: postcondition not satisfied
--&gt; main::find([],0)
    return -1       // no match
    ^^^^^^^^^
Stack Trace:
--&gt; main::find([],0)
</code></pre><p>The great thing about this is that it shows the exact input values which generated the error! And, what&rsquo;s even better, is that we can run QuickCheck as part of our <a href=https://github.com/marketplace/actions/whiley-build-action>CI pipeline</a> as well!</p><h3 id=other>Other</h3><p>Whilst there are too many other things to mention, here are a few more highlights chosen at random:</p><ul><li><p><strong>(Teaching)</strong> Whiley has been used for teaching here at Victoria University since 2014, and also at other instituations as well. For example, at <a href="https://www.sun.ac.za/english/Lists/news/DispForm.aspx?ID=4970">Stellenbosch University</a> under Prof. Bruce Watson and Macquarie University under Dr. Matt Roberts. It was also used for a <a href=https://link.springer.com/book/10.1007/978-3-030-17601-3>summer school on Formal Methods</a> in China.</p></li><li><p><strong>(Experimental Platforms)</strong>. There have been a bunch of experimental projects trying to get Whiley working on different platforms, including <a href=https://whileydave.com/publications/kumar19_engr489/>WebAssembley</a>, <a href=https://whileydave.com/publications/ppp18_vmil/>an FPGA</a>, the <a href=https://whileydave.com/publications/stevens14_engr489/>Crazyflie Quad Copter</a>, the <a href=https://whileydave.com/publications/kumar19_engr489/>Ethereum Virtual Machine</a> and <a href=https://whileydave.com/publications/ruarus13_engr489/>more</a>! Whilst these have all been instructive in the design of Whiley, perhaps the most promising future target is WebAssembly.</p></li><li><p><strong>(Functional Reactive Programming)</strong>. The <a href=https://github.com/DavePearce/Web.wy>Web.wy</a> provides a general platform for React-style <a href=https://en.wikipedia.org/wiki/Functional_reactive_programming>Functional Reactive Programming</a> (i.e. including a <a href=https://en.wikipedia.org/wiki/React_(web_framework)#Virtual_DOM>virtual DOM</a>). Whilst this remains at an early stage, you can find a simple example <a href=https://github.com/DavePearce/WebCalc.wy>here</a>.</p></li></ul><hr><i>Follow the discussion on
<a href=https://twitter.com/whileydave/status/1305791420624560129>Twitter</a>
or
<a href=https://www.reddit.com/r/programming/comments/it51t5/ten_years_of_whiley?>Reddit</a></i></div></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-5582165-7','auto');ga('send','pageview');}</script></body></html>