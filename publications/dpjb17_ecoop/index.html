<!doctype html><html><head><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Contracts in the Wild: A Study of Java Programs</title><link href="https://fonts.googleapis.com/css?family=Neucha" rel=stylesheet><link rel=stylesheet href=https://davepearce.github.io/Homepage/css/style.css></head><body><header><div id=name><b>Dr. David J. Pearce</b>, <i>Associate Professor of Computer Science</i></div><nav><ul id=menubar><li><a href=https://davepearce.github.io/Homepage/>Home</a></li><li><a href=https://davepearce.github.io/Homepage/projects/>Projects</a></li><li><a href=https://davepearce.github.io/Homepage/publications/>Publications</a></li></ul></nav></header><div id=container><div id=content><h1>Contracts in the Wild: A Study of Java Programs</h1><p><strong>Abstract:</strong> The use of formal contracts has long been advocated as an approach to develop programs that are provably correct. However, the reality is that adoption of contracts has been slow in practice. Despite this, the adoption of lightweight contracts — typically utilising runtime checking — has progressed. In the case of Java, built-in features of the language (e.g. assertions and exceptions) can be used for this. Furthermore, a number of libraries which facilitate contract checking have arisen.</p><p>In this paper, we catalogue 25 techniques and tools for lightweight contract checking in Java, and present the results of an empirical study looking at a dataset extracted from the 200 most popular projects found on Maven Central, constituting roughly 351,034 KLOC. We examine (1) the extent to which contracts are used and (2) what kind of contracts are used. We then investigate how contracts are used to safeguard code, and study problems in the context of two types of substitutability that can be guarded by contracts: (3) unsafe evolution of APIs that may break client programs and (4) violations of Liskovs Substitution Principle (LSP) when methods are overridden. We find that: (1) a wide range of techniques and constructs are used to represent contracts, and often the same program uses different techniques at the same time; (2) overall, contracts are used less than expected, with significant differences between programs; (3) projects that use contracts continue to do so, and expand the use of contracts as they grow and evolve; and, (4) there are cases where the use of contracts points to unsafe subtyping (violations of Liskov Substitution Principle) and unsafe evolution.</p></div></div></body></html>