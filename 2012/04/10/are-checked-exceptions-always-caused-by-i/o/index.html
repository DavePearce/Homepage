<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="Are Checked Exceptions Always Caused by I/O?"><meta name=twitter:title content="Are Checked Exceptions Always Caused by I/O?"><meta property="og:url" content="https://whileydave.com/2012/04/10/are-checked-exceptions-always-caused-by-i/o/"><title>David J. Pearce
(Are Checked Exceptions Always Caused by I/O?)</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://whileydave.com/css/page.css><link rel=stylesheet href=https://whileydave.com/css/menu.css><link rel=stylesheet href=https://whileydave.com/css/style.css></head><body><script>"use strict";function clearMenu(){var e,t,n=window.matchMedia("(max-width: 992px)");n.matches&&(e=document.getElementById("menu-content"),t=document.getElementById("menu"),e.style.display="none",t.style.filter="")}function toggleMenu(){var e,t,n=window.matchMedia("(max-width: 992px)");n.matches&&(e=document.getElementById("menu-content"),t=document.getElementById("menu"),e.style.display==="block"?(e.style.display="none",t.style.filter=""):(e.style.display="block",t.style.filter="brightness(0.8)"))}function toggleList(e){e.style.display="none";for(var t,o=e.parentNode,s=o.childNodes,n=0;n<s.length;++n)t=s[n],t.classList&&t.classList.contains("hidden")&&(t.style.display==="block"?t.style.display="none":t.style.display="block")}</script><header class=topbar><div class=topbar-header onclick=clearMenu()><div class=topbar-title>Dr. David J. Pearce</div><div class=topbar-subtitle></div></div><div class=topbar-social onclick=clearMenu()><a href=https://github.com/DavePearce><i class="fa fa-github" aria-hidden=true></i></a>
<a href=https://twitter.com/WhileyDave><i class="fa fa-twitter" aria-hidden=true></i></a>
<a href=https://www.youtube.com/user/redjamjar/><i class="fa fa-youtube-play" aria-hidden=true></i></a>
<a href=https://www.linkedin.com/in/david-pearce-8592647/><i class="fa fa-linkedin-square" aria-hidden=true></i></a></div><div class=topbar-menu><div id=menu onclick=toggleMenu()><div id=menu-icon><img src=https://whileydave.com/images/menu.png alt=Menu></div><div id=menu-content><a href=https://whileydave.com/blog/>Blog</a>
<a href=https://whileydave.com/projects/>Projects</a>
<a href=https://whileydave.com/publications/>Publications</a>
<a href=https://whileydave.com/talks/>Talks</a>
<a href=https://whileydave.com/>Home</a></div></div></div></header><div class=container onclick=clearMenu()><div class=content><h1 class=post-title>Are Checked Exceptions Always Caused by I/O?</h1><div class=post-date>Tuesday, April
10th,
2012</div><hr><p>Recently, I&rsquo;ve had the pleasure of working with Eclipse and trying to build a plugin.  On the whole, I have to confess,* I find that Eclipse is an extremely well-designed and considered piece of software*.  The biggest problem, I suppose, is that it is designed for a wide variety of tasks and this means you spend a lot of time deciphering some rather abstract abstractions!  And, sure, the documentation could be better &mdash; but on the whole it is pretty good.</p><p>Anyway, this post is not really about Eclipse plugins.  One of things I had to do, was integrate my own build framework into that of Eclipse.  This immediately caused problems because of the Eclipse <a href="http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fcore%2Fruntime%2FCoreException.html">CoreException</a>.  This <a href=http://en.wikipedia.org/wiki/Exception_handling#Checked_exceptions>checked exception</a> is required on a large number of methods.  The problem is that my build framework requires the standard <code>java.io.IOException</code> on several methods, but <code>CoreException</code> does not extend this. Since I don&rsquo;t want my build framework to depend on Eclipse, I&rsquo;m forced into doing something unusual. For example, tunneling <code>CoreException</code>s through my framework as <code>IOException</code>s and vice-versa through Eclipse. One could perhaps argue that <code>CoreException</code> should (or should not) implement <code>IOException</code> &mdash; <em>but, that&rsquo;s not what this post is really about</em>.</p><p><em>So, what is this post about?</em> Well, this issue got me thinking: <em>are checked exceptions always caused by I/O?</em></p><p>Let&rsquo;s try a simple thought experiment to get us thinking about this. Imagine a program running on bare metal <em>which does not perform any I/O whatsoever</em>. The question is: <em>in what ways can this program go wrong (i.e. crash)?</em> There are some obvious ones:</p><ul><li><p><strong>Segmentation Fault (or similar)</strong>.  For example, it tried to dereference a <code>null</code> pointer, divide by zero or access an array out-of-bounds, etc.</p></li><li><p><strong>Out-of-memory.</strong> The program ran out of memory and e.g. dumped its core.</p></li><li><p><strong>Infinite Loop.</strong> The program entered into some kind of infinite loop and continued forever.</p></li><li><p><strong>Deadlock.</strong> The program managed to enter some kind of dead lock (or even a <a href=http://en.wikipedia.org/wiki/Deadlock#Livelock>live lock</a>) and failed to make progress.</p></li></ul><p>Maybe there are some others, but this mostly covers it (remember, I/O is not permitted so we can&rsquo;t e.g. block indefinitely on a socket).  <em>I want to argue that none of these things should cause a checked exception.</em> You might think that&rsquo;s obvious because e.g. in Java none of these things is a checked exception (e.g. <code>NullPointerException</code>, <code>ArithmeticException</code>, <code>OutOfMemoryError</code>, etc, are unchecked).  But, as usual, it is more subtle than it first looks&mldr;</p><p><em>So, how could the above things cause a checked exception?</em> Well, the programmer will obviously try and protect against them happening.  For any given function, there are two main ways this can play out:</p><ul><li><p>In some cases, he/she will simply conclude that: <em>if the function is written correctly and called with valid arguments, an error could never happen</em> (e.g. divide-by-zero, out-of-bounds, infinite loop, etc). In these cases, he/she generally won&rsquo;t to do anything specific (except perhaps a little bit of argument checking).</p></li><li><p>In other cases, he/she will conclude that: <em>this function must accept all inputs, but some of them are incorrect</em>.  A good example is a <code>parse(String)</code> function which parses a string and e.g. converts it into a data structure. In the case of a malformed string, it must report a <code>SyntaxError</code>.  The programmer may decide to implement this as a checked exception, so that any callers of the function are forced to acknowledge this possibility.</p></li></ul><p>These two cases may seem similar, but there is an important difference: in one case, our function only accepts &ldquo;correct&rdquo; inputs; in the other, it must also accept &ldquo;incorrect&rdquo; inputs.  Still, this seems fairly straightforward &mldr;</p><p>Consider again our thought experiment in the context of the <code>parse(String)</code> function, which <code>throws SyntaxError</code> (a checked exception). Here&rsquo;s the line of reasoning: Q) <em>Under what circumstances could a <code>SyntaxError</code> be thrown?</em> A) If the input string was invalid; Q) <em>How could the input string be invalid?</em> A) If the programmer constructed an invalid string; Q) <em>How could the programmer have constructed an invalid string?</em> A) <strong>If he/she had made a programming error</strong>. The thing is, since there is no I/O, the programmer has complete control over exactly what strings are constructed. If an invalid string was constructed, it is because the programmer made a mistake somewhere. <em>That&rsquo;s the only possibility</em>.</p><p>If you&rsquo;ve made it this far, great! Hopefully, you&rsquo;re starting to get the idea: <strong>without I/O, there&rsquo;s really no need for checked exceptions</strong>. The problem, of course, is that we do have I/O. But, actually, it&rsquo;s worse than that. I won&rsquo;t complain about having to write <code>throws IOException</code> on a function which can <code>throw</code> an <code>IOException</code>. The problem is having to write it on a function which definitely <em>cannot</em> throw an <code>IOException</code>. For example, I might call <code>parse()</code> from a setting where the input string is always syntactically valid. But, I cannot tell the compiler this &mdash; so I&rsquo;ll probably have to catch the <code>SyntaxError</code> and just discard it. Maybe that&rsquo;s not so bad, but it&rsquo;s definitely one of the reasons checked exceptions have a bad reputation.</p><p>Finally, the other reason people get upset with checked exceptions is when they are used incorrectly. Based on my above analysis, my conclusion is that Eclipse&rsquo;s <code>CoreException</code> should extend <code>IOException</code>. In fact, I think probably all checked exceptions should extend <code>IOException</code> &mldr;</p><hr></div></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-5582165-7","auto"),ga("send","pageview"))</script></body></html>